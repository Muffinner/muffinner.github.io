<!DOCTYPE html>
<html>
<head>
    <title>FPS Shooter</title>
    <style>
        /* ... keep existing styles the same ... */
    </style>
</head>
<body>
    <!-- ... keep existing HTML structure the same ... -->

<script>
class GameEngine {
    // ... keep existing GameEngine implementation the same ...
}

class Player {
    constructor() {
        this.x = 0;
        this.y = 50;
        this.z = 0;
        this.speed = 0.2;
        this.health = 100;
        this.rotation = 0;
        this.width = 30;  // Added size properties
        this.height = 50; // Added size properties
        this.weapon = {
            cooldown: 0,
            damage: 25,
            spread: 0.1,
            fireRate: 300
        };
    }

    // ADDED MISSING RENDER METHOD
    render(ctx) {
        ctx.fillStyle = '#0000ff';
        ctx.fillRect(
            -this.width/2, 
            -this.height/2,
            this.width,
            this.height
        );
    }

    // ... keep rest of Player methods the same ...
}

class Enemy {
    constructor(x, z) {
        // ... existing constructor ... 
    }

    // ... keep existing update method ...

    // ENSURE RENDER METHOD EXISTS
    render(ctx) {
        ctx.fillStyle = '#ff0000';
        ctx.fillRect(-15, -30, 30, 60);
    }
}

class Bullet {
    constructor(x, y, z, angle) {
        // ... existing constructor ...
    }

    // ... keep existing update method ...

    // ENSURE RENDER METHOD EXISTS
    render(ctx) {
        ctx.fillStyle = '#ffff00';
        ctx.beginPath();
        ctx.arc(0, 0, 3, 0, Math.PI*2);
        ctx.fill();
    }
}

// ... keep InputHandler, CollisionSystem, EnemySpawner the same ...

// Initialize the game
document.addEventListener('DOMContentLoaded', () => {
    // ... keep initialization code the same ...
});
</script>
</body>
</html>